---
title: The powerful fromJsx function
description: Convert React JSX components to Takumi nodes with comprehensive style parsing and support for most CSS properties.
---

This function is particularly useful for people coming from a similar project like [vercel/satori](https://github.com/vercel/satori) without the need to rewrite the entire component to adopt Takumi.

## Quick Example

```tsx
import { fromJsx } from "@takumi-rs/helpers";

function SayHello({ name }: { name: string }) {
  return (
    <div style={{ color: "rgb(0, 0, 255)", fontSize: "20px" }}>
      Hello, {name}!
    </div>
  );
}

// Since there's no fragment node support, an array is returned.
// You should destructure the array to get the first node.
const [node] = fromJsx(<SayHello name="Takumi" />);

console.log(node);
```

## How components are being processed

The rules for this function are simple, you can just [look at the implementation](https://github.com/kane50613/takumi/blob/master/takumi-helpers/src/jsx/jsx.ts) to understand it.

1. React (Server) Components are resolved to their final values before processing.
2. `<img>` and `<svg>` elements becomes an Image node with style applied.
4. All other React elements becomes a Container node with style and [style presets](#styling-presets-for-common-elements) applied.
3. Rest of the primitive types (string/number) are automatically converted to Text node.

## CSS Styling

### Styling Presets for Common Elements

Browsers like Chromium have [default stylesheets used to render HTML](https://chromium.googlesource.com/chromium/blink/+/master/Source/core/css/html.css). 

In order to maintain consistency across web and Takumi rendered images, we takes reference from [vercel/satori Pre-defined styles for elements](https://github.com/vercel/satori/blob/main/src/handler/presets.ts) and then made [our own maintained presets](https://github.com/kane50613/takumi/blob/master/takumi-helpers/src/jsx/style-presets.ts).

### Style Parsing Compatibility

The style parser supports a comprehensive set of CSS properties with intelligent parsing and conversion:

<table>
<thead>
<tr>
  <th>Property</th>
  <th>Property Expanded</th>
  <th>Values</th>
  <th>Notes</th>
</tr>
</thead>
<tbody>

<tr>
  <td rowSpan={2}>Display</td>
  <td>`display`</td>
  <td>`flex`, `grid`</td>
  <td>Unsupported values will fallback to `flex`.</td>
</tr>

<tr>
  <td>`position`</td>
  <td>`absolute`, `relative`</td>
  <td>Unsupported values will fallback to `relative`.</td>
</tr>

<tr>
  <td rowSpan={11}>Flex</td>
  <td>`gap`</td>
  <td>[Unit values](#unit-values)</td>
</tr>

<tr>
  <td>`flexDirection`</td>
  <td rowSpan={10}>Supported</td>
</tr>

<tr>
  <td>`flexWrap`</td>
</tr>

<tr>
  <td>`flexGrow`</td>
</tr>

<tr>
  <td>`flexShrink`</td>
</tr>

<tr>
  <td>`flexBasis`</td>
</tr>


<tr>
  <td>`justifyContent`</td>
</tr>

<tr>
  <td>`alignContent`</td>
</tr>

<tr>
  <td>`alignItems`</td>
</tr>

<tr>
  <td>`alignSelf`</td>
</tr>

<tr>
  <td>`justifyItems`</td>
</tr>

<tr>
  <td rowSpan={7}>Size</td>
  <td>`width`</td>
  <td rowSpan={6}>[Unit values](#unit-values)</td>
</tr>

<tr>
  <td>`height`</td>
</tr>

<tr>
  <td>`maxWidth`</td>
</tr>

<tr>
  <td>`maxHeight`</td>
</tr>

<tr>
  <td>`minWidth`</td>
</tr>

<tr>
  <td>`minHeight`</td>
</tr>

<tr>
  <td>`aspectRatio`</td>
  <td>`number / number`, `number`</td>
</tr>

<tr>
  <td rowSpan={4}>`inset`</td>
  <td>`top`</td>
  <td rowSpan={4}>Supports 1-4 values (top, right, bottom, left)</td>
</tr>

<tr>
  <td>`right`</td>
</tr>

<tr>
  <td>`bottom`</td>
</tr>

<tr>
  <td>`left`</td>
</tr>

<tr>
  <td rowSpan={4}>`padding`</td>
  <td>`paddingTop`</td>
  <td rowSpan={4}>Supports 1-4 values (top, right, bottom, left)</td>
</tr>

<tr>
  <td>`paddingRight`</td>
</tr>

<tr>
  <td>`paddingBottom`</td>
</tr>

<tr>
  <td>`paddingLeft`</td>
</tr>

<tr>
  <td rowSpan={4}>`margin`</td>
  <td>`marginTop`</td>
  <td rowSpan={4}>Supports 1-4 values (top, right, bottom, left)</td>
</tr>

<tr>
  <td>`marginRight`</td>
</tr>

<tr>
  <td>`marginBottom`</td>
</tr>

<tr>
  <td>`marginLeft`</td>
</tr>


<tr>
  <td rowSpan={4}>`borderWidth`</td>
  <td>`borderTopWidth`</td>
  <td rowSpan={4}>Supports 1-4 values (top, right, bottom, left)</td>
</tr>

<tr>
  <td>`borderRightWidth`</td>
</tr>

<tr>
  <td>`borderBottomWidth`</td>
</tr>

<tr>
  <td>`borderLeftWidth`</td>
</tr>

<tr>
  <td colSpan={2}>`borderRadius`</td>
  <td>Supports 1-4 values</td>
  <td>Border radius for all corners</td>
</tr>


<tr>
  <td rowSpan={3}>Color</td>
  <td>`backgroundColor`</td>
  <td rowSpan={3}>`transparent`, `rgb()`, `rgba()`, `#hex`</td>
  <td rowSpan={3}>HTML color keywords like `black`, `white`, `red` are not supported.</td>
</tr>

<tr>
  <td>`color`</td>
</tr>

<tr>
  <td>`borderColor`</td>
</tr>

<tr>
  <td>Background</td>
  <td>`backgroundImage`</td>
  <td>`linear-gradient()`</td>
  <td>Currently only supports linear gradients</td>
</tr>

<tr>
  <td rowSpan={2}>Effect</td>
  <td>`boxShadow`</td>
  <td>Supports multiple shadows with full syntax</td>
  <td>Full CSS box-shadow syntax support</td>
</tr>

<tr>
  <td>`imageRendering`</td>
  <td>`pixelated`, `crisp-edges`</td>
  <td>Controls image scaling algorithm</td>
</tr>

<tr>
  <td rowSpan={7}>Grid</td>
  <td>`gridAutoColumns`</td>
  <td>Supports all standard grid track sizing</td>
  <td>Auto-sizing for implicit grid columns</td>
</tr>

<tr>
  <td>`gridAutoRows`</td>
  <td>Supports all standard grid track sizing</td>
  <td>Auto-sizing for implicit grid rows</td>
</tr>

<tr>
  <td>`gridAutoFlow`</td>
  <td>`row`, `column`, `row dense`, `column dense`</td>
  <td>Controls grid item placement algorithm</td>
</tr>

<tr>
  <td>`gridColumn`</td>
  <td>Supports line-based and named grid areas</td>
  <td>Grid column placement shorthand</td>
</tr>

<tr>
  <td>`gridRow`</td>
  <td>Supports line-based and named grid areas</td>
  <td>Grid row placement shorthand</td>
</tr>

<tr>
  <td>`gridTemplateColumns`</td>
  <td>Supports all grid template functions</td>
  <td>Explicit grid column sizing</td>
</tr>

<tr>
  <td>`gridTemplateRows`</td>
  <td>Supports all grid template functions</td>
  <td>Explicit grid row sizing</td>
</tr>

<tr>
  <td rowSpan={4}>Font</td>
  <td>`fontSize`</td>
  <td>[Unit values](#unit-values)</td>
</tr>

<tr>
  <td>`lineHeight`</td>
  <td>[Unit values](#unit-values)</td>
</tr>

<tr>
  <td>`fontWeight`</td>
  <td>Supports numeric and keyword values</td>
  <td>`100-900`, `normal`, `bold`, etc.</td>
</tr>

<tr>
  <td>`fontFamily`</td>
  <td>Supported</td>
  <td>Only one font family can be specified, no fallback</td>
</tr>

<tr>
  <td rowSpan={6}>Text & Object</td>
  <td>`textAlign`</td>
  <td>`left`, `right`, `center`, `justify`, `start`, `end`</td>
</tr>

<tr>
  <td>`textOverflow`</td>
  <td>`clip`, `ellipsis`</td>
  <td>Controls text overflow behavior</td>
</tr>

<tr>
  <td>`lineClamp`</td>
  <td>Positive integers</td>
  <td>Controls line clamping for text truncation</td>
</tr>

<tr>
  <td>`letterSpacing`</td>
  <td>[Unit values](#unit-values)</td>
</tr>

<tr>
  <td>`objectFit`</td>
  <td>Supported</td>
  <td>`fill`, `contain`, `cover`, `none`, `scale-down`</td>
</tr>

</tbody>
</table>

### Unit Values

- Pixel values (e.g., `100px`, `50%`, `1em`)
- Relative values (e.g., `rem`, `vh`, `vw`)

`calc()` is not supported
